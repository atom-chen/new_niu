{"version":3,"sources":["../../../../assets/Script/scene/game.js"],"names":["subGameMSG","require","GD","define","GameLogic","cc","Class","extends","Component","properties","card_back","Node","downList","Prefab","desk_btns","desk_hint_txt","animNode","clock","seatGroup","pokerAtlas","SpriteAtlas","niu_shu_Atlas","betNode","jettonAtlas","memberOrderAtlas","faceAtlas","record","start","AudioControl","find","getComponent","playBGM","i","childrenCount","children","on","EventType","TOUCH_END","click_btn_event","betBtnGroup","clickBetScore","bindEvent","clientKernel","getRoomInfo","chairID","getMeChairID","getSeatInfo","bindObj","push","onfire","onGotRoomInfo","bind","onEventSceneMessage","onEventGameMessage","onEventUserLeave","UserStatusChanged","onDestroy","length","un","showHideRuleMenu","ruleMenu","active","Animation","play","event","console","log","currentTarget","name","sendUserReady","sendSocketData","gameCMD","MDM_GF_GAME","C_CALL_BANKER","banker","showDownList","C_OPEN_CARD","sendGameData","subCMD","data","getTableUserItem","undefined","seatID","getRelativeSeatID","seat","Label","string","nickname","score","userID","Sprite","spriteFrame","_spriteFrames","faceID","memberOrder","sex","userStatus","gameConst","US_READY","onEventUserEnter","jetton","destroy","banker_flag","cardGroup","destroyAllChildren","ready_font","showCountdown","US_PLAYING","US_SIT","setTimeout","S_CALL_BANKER","onSubCallBanker","S_GAME_START","onSubGameStart","S_ADD_SCORE","onSubAddScore","S_SEND_CARD","onSubSendCard","S_SINGLE_OPEN_CARD","onSubSingleOpenCard","S_ALL_OPEN_CARD","onSubAllOpenCard","S_PLAYER_EXIT","onSubPlayerExit","S_GAME_END","onSubGameEnd","S_DISMISS_GAME","onSubDismiss","gameStatus","btn_qiang","btn_bu_qiang","caller","firstCall","lastCaller","playBujiao","nocall_font","playBanker","maxChip","Math","floor","C_ADD_SCORE","chipScore","randomCreateJetton","playJetton","parent","setScale","newVec2","convertToWorldSpaceAR","position","Vec2","convertToNodeSpaceAR","moveTo","scaleTo","runAction","spawn","a","schedule","cardAction","cardData","j","card_front","setCardValue","result","getCardType","type","niu_shu","index","pop","y","color","Color","winner","win","pokerNode","anim","effects","playWinOrLose","sp","Skeleton","setAnimation","content","player","instantiate","seatScore","parseInt","substr","all","allScore","last","cardNode","cardValue","getCardColor","value","getCardValue","numValue","jettonNode","addComponent","x","random","count","setSiblingIndex","isShow","time","timerFrame","playSendCard","callFunc","sequence","myChairID","chairCount","newNode","addChild"],"mappings":"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","file":"game.js","sourcesContent":["var subGameMSG = require(\"SubGameMSG\").subGameMSG;\r\nvar GD = require(\"GD\");\r\nvar define = require(\"define\");\r\nvar GameLogic = require(\"GameLogic\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //by_009:牌背面\r\n        card_back: cc.Node,\r\n\r\n        //by_009:下拉菜单\r\n        downList: cc.Prefab,\r\n\r\n        //by_009:桌面上的按钮\r\n        desk_btns: cc.Node,\r\n        //by_009:桌面上的提示文本\r\n        desk_hint_txt: cc.Node,\r\n\r\n        //by_009:动画节点\r\n        animNode: cc.Node,\r\n\r\n        //by_009:闹钟\r\n        clock: cc.Node,\r\n\r\n        //by_009:座位组\r\n        seatGroup: cc.Node,\r\n\r\n        //by_009:扑克图集\r\n        pokerAtlas: cc.SpriteAtlas,\r\n        //by_009:牛数图集\r\n        niu_shu_Atlas: cc.SpriteAtlas,\r\n\r\n        //by_009:下注节点\r\n        betNode: cc.Node,\r\n\r\n        //by_009:筹码图集\r\n        jettonAtlas: cc.SpriteAtlas,\r\n\r\n        //by_009:会员等级图集\r\n        memberOrderAtlas: cc.SpriteAtlas,\r\n\r\n        //by_009:头像图集\r\n        faceAtlas: cc.SpriteAtlas,\r\n\r\n        //by_009:战绩节点\r\n        record: cc.Node,\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.AudioControl = cc.find(\"Canvas\").getComponent(\"AudioControl\");\r\n        this.AudioControl.playBGM();\r\n\r\n        //by_009:给桌面上的按钮注册事件\r\n        for (var i = 0; i < this.desk_btns.childrenCount; i++) {\r\n            this.desk_btns.children[i].on(cc.Node.EventType.TOUCH_END, this.click_btn_event, this);\r\n        }\r\n\r\n        //by_009:下注分的按钮注册事件\r\n        var betBtnGroup = cc.find(\"betBtnGroup\", this.betNode);\r\n        for (var i = 0; i < betBtnGroup.childrenCount; i++) {\r\n            betBtnGroup.children[i].on(cc.Node.EventType.TOUCH_END, this.clickBetScore, this);\r\n        }\r\n\r\n\r\n        this.bindEvent();\r\n        GD.clientKernel.getRoomInfo(); //获取房间信息，加载游戏场景之后需要调用这个 ，用来获取场景信息，游戏状态，恢复场景、重连等等\r\n        GD.chairID = GD.clientKernel.getMeChairID();\r\n        //window.chairID=GD.chairID;\r\n\r\n        this.getSeatInfo();\r\n    },\r\n\r\n    bindEvent() {\r\n        this.bindObj = []\r\n        this.bindObj.push(onfire.on(\"onGotRoomInfo\", this.onGotRoomInfo.bind(this)));\r\n        this.bindObj.push(onfire.on(\"onEventSceneMessage\", this.onEventSceneMessage.bind(this)))\r\n        this.bindObj.push(onfire.on(\"onEventGameMessage\", this.onEventGameMessage.bind(this)))\r\n        this.bindObj.push(onfire.on(\"onEventUserLeave\", this.onEventUserLeave.bind(this)))\r\n        this.bindObj.push(onfire.on(\"UserStatusChanged\", this.UserStatusChanged.bind(this)))\r\n    },\r\n\r\n    onDestroy() {\r\n        for (var i = 0; i < this.bindObj.length; i++) {\r\n            onfire.un(this.bindObj[i])\r\n        }\r\n    },\r\n\r\n\r\n    //by_009:显示与隐藏_规则菜单\r\n    showHideRuleMenu() {\r\n        if (this.ruleMenu.active == false) {\r\n            this.ruleMenu.active = true;\r\n            this.ruleMenu.getComponent(cc.Animation).play();\r\n        } else {\r\n            this.ruleMenu.active = false;\r\n        }\r\n    },\r\n\r\n\r\n\r\n    //by_009:点击桌面上按钮\r\n    click_btn_event(event) {\r\n        console.log(event.currentTarget.name);\r\n        // return;\r\n        switch (event.currentTarget.name) {\r\n            case \"btn_rule\":\r\n                this.showHideRuleMenu();\r\n                break;\r\n            case \"btn_start\":\r\n                GD.clientKernel.sendUserReady();\r\n                break;\r\n            case \"btn_call_banker\":\r\n                GD.clientKernel.sendSocketData(define.gameCMD.MDM_GF_GAME, subGameMSG.C_CALL_BANKER, { banker: true });\r\n                break;\r\n            case \"btn_not_call\":\r\n                GD.clientKernel.sendSocketData(define.gameCMD.MDM_GF_GAME, subGameMSG.C_CALL_BANKER, { banker: false });\r\n                break;\r\n            case \"btn_on_off\":\r\n                this.showDownList();\r\n                break;\r\n            case \"btn_showdown\":\r\n                GD.clientKernel.sendSocketData(define.gameCMD.MDM_GF_GAME, subGameMSG.C_OPEN_CARD, {});\r\n                break;\r\n            default:\r\n                console.log(\"default\");\r\n                break;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 发送子游戏事件\r\n     * @param subCMD\r\n     * @param data\r\n     */\r\n    sendGameData: function(subCMD, data) {\r\n        GD.clientKernel.sendSocketData(gameCMD.MDM_GF_GAME, subCMD, data);\r\n    },\r\n\r\n\r\n    //by_009:获取房间配置\r\n    onGotRoomInfo(subCMD, data) {\r\n        console.log(\"获取房间配置 : \", \"subCMD\", subCMD, \"data\", data);\r\n    },\r\n\r\n\r\n    //by_009:获取座位信息\r\n    getSeatInfo: function() {\r\n        for (var i = 0; i < 2; i++) {\r\n            var data = GD.clientKernel.getTableUserItem(i);\r\n            console.log(\"获取座位信息\", data);\r\n            if (data != undefined) {\r\n                var seatID = this.getRelativeSeatID(data.chairID, GD.chairID);\r\n                console.log(\"seatIDseatIDseatID\", seatID);\r\n                var seat = this.seatGroup.children[seatID];\r\n                seat.active = true;\r\n                cc.find(\"userFrame/nickname\", seat).getComponent(cc.Label).string = data.nickname;\r\n                cc.find(\"userFrame/score\", seat).getComponent(cc.Label).string = data.score / 10000 + \"万\";\r\n                cc.find(\"userFrame/userID\", seat).getComponent(cc.Label).string = data.userID;\r\n                cc.find(\"userFrame/face\", seat).getComponent(cc.Sprite).spriteFrame = this.faceAtlas._spriteFrames[data.faceID];\r\n                cc.find(\"userFrame/memberOrder\", seat).getComponent(cc.Sprite).spriteFrame = this.memberOrderAtlas._spriteFrames[data.memberOrder];\r\n\r\n                if (seat == 0) { //自己\r\n                    this.AudioControl.sex = data.sex;\r\n                }\r\n\r\n                if (data.userStatus == define.gameConst.US_READY) {\r\n                    cc.find(\"ready_font\", seat).active = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    //by_009:监听用户进入\r\n    onEventUserEnter: function(data) {\r\n        console.log(\"监听用户进入\", data);\r\n        var seatID = this.getRelativeSeatID(data.chairID, GD.chairID);\r\n\r\n        var seat = this.seatGroup.children[seatID];\r\n        seat.active = true;\r\n        cc.find(\"userFrame/nickname\", seat).getComponent(cc.Label).string = data.nickname;\r\n        cc.find(\"userFrame/score\", seat).getComponent(cc.Label).string = data.score / 10000 + \"万\";\r\n        cc.find(\"userFrame/userID\", seat).getComponent(cc.Label).string = data.userID;\r\n        cc.find(\"userFrame/face\", seat).getComponent(cc.Sprite).spriteFrame = this.faceAtlas._spriteFrames[data.faceID];\r\n        cc.find(\"userFrame/memberOrder\", seat).getComponent(cc.Sprite).spriteFrame = this.memberOrderAtlas._spriteFrames[data.memberOrder + \"\"];\r\n\r\n    },\r\n\r\n\r\n    //by_009:监听用户离开\r\n    onEventUserLeave: function(data) {\r\n        console.log(\"监听用户离开\", data);\r\n        var seatID = this.getRelativeSeatID(data.chairID, GD.chairID);\r\n        var seat = this.seatGroup.children[seatID];\r\n        seat.active = false;\r\n    },\r\n\r\n\r\n    //by_009:玩家状态发生改变\r\n    UserStatusChanged: function(data) {\r\n        console.log(\"玩家状态发生改变\", data);\r\n        if (data.userStatus == define.gameConst.US_READY) {\r\n            console.log(\"准备了\");\r\n            //删除筹码\r\n            if (typeof this.jetton != \"undefined\") {\r\n                this.jetton.destroy();\r\n            }\r\n            //隐藏庄家图标  删除手中扑克 隐藏牌型\r\n            for (var i = 0; i < this.seatGroup.childrenCount; i++) {\r\n                var banker_flag = cc.find(\"banker_flag\", this.seatGroup.children[i]);\r\n                if (banker_flag.active == true) {\r\n                    banker_flag.active = false;\r\n                }\r\n                var cardGroup = cc.find(\"cardGroup\", this.seatGroup.children[i]);\r\n                cardGroup.destroyAllChildren();\r\n                cc.find(\"niu_shu\", this.seatGroup.children[i]).active = false;\r\n\r\n            }\r\n            //隐藏下注信息\r\n            this.betNode.active = false;\r\n            cc.find(\"bet_info/label\", this.betNode).getComponent(cc.Label).string = \"\";\r\n\r\n            var seatID = this.getRelativeSeatID(data.chairID, GD.chairID);\r\n            if (seatID == 0) { //自己\r\n                cc.find(\"btn_start\", this.desk_btns).active = false;\r\n            } else {\r\n                // this.showCountdown(true,15,GD.chairID);\r\n            }\r\n            var seat = this.seatGroup.children[seatID];\r\n            cc.find(\"ready_font\", seat).active = true;\r\n\r\n            //未准备的，显示倒计时\r\n            for (var i = 0; i < this.seatGroup.childrenCount; i++) {\r\n                var seatID = this.getRelativeSeatID(i, GD.chairID);\r\n                var ready_font = cc.find(\"ready_font\", this.seatGroup.children[seatID]);\r\n                if (ready_font.active == false) {\r\n                    this.showCountdown(true, 15, i);\r\n                }\r\n            }\r\n        } else if (data.userStatus == define.gameConst.US_PLAYING) { //游戏状态\r\n            var seatID = this.getRelativeSeatID(data.chairID, GD.chairID);\r\n            var seat = this.seatGroup.children[seatID];\r\n            cc.find(\"ready_font\", seat).active = false;\r\n        } else if (data.userStatus == define.gameConst.US_SIT) { //坐下状态\r\n            setTimeout(function() {\r\n                cc.find(\"btn_start\", this.desk_btns).active = true;\r\n            }.bind(this), 1500);\r\n\r\n        }\r\n    },\r\n\r\n\r\n    //by_009:监听游戏信息\r\n    onEventGameMessage: function(subCMD, data) {\r\n\r\n        console.log(\"监听游戏信息 : \", \"subCMD\", subCMD, \"data\", data);\r\n\r\n        switch (subCMD) {\r\n            case subGameMSG.S_CALL_BANKER:\r\n                this.onSubCallBanker(data);\r\n                break;\r\n            case subGameMSG.S_GAME_START:\r\n                this.onSubGameStart(data);\r\n                break;\r\n            case subGameMSG.S_ADD_SCORE:\r\n                this.onSubAddScore(data);\r\n                break;\r\n            case subGameMSG.S_SEND_CARD:\r\n                this.onSubSendCard(data);\r\n                break;\r\n            case subGameMSG.S_SINGLE_OPEN_CARD:\r\n                this.onSubSingleOpenCard(data);\r\n                break;\r\n            case subGameMSG.S_ALL_OPEN_CARD:\r\n                this.onSubAllOpenCard(data);\r\n                break;\r\n            case subGameMSG.S_PLAYER_EXIT:\r\n                this.onSubPlayerExit(data);\r\n                break;\r\n            case subGameMSG.S_GAME_END:\r\n                this.onSubGameEnd(data);\r\n                break;\r\n            case subGameMSG.S_DISMISS_GAME:\r\n                this.onSubDismiss(data);\r\n                break;\r\n            default:\r\n                return true;\r\n        }\r\n    },\r\n\r\n    //by_009:监听场景信息\r\n    onEventSceneMessage: function(gameStatus, data) {\r\n        // GD.coreConfig = data.coreConfig;\r\n\r\n        console.log(\"监听场景信息 : \", \"subCMD\", gameStatus, \"data\", data);\r\n    },\r\n\r\n\r\n    //by_009:叫庄\r\n    onSubCallBanker: function(data) {\r\n        console.log(\"叫庄\", data);\r\n        var btn_qiang = cc.find(\"btn_call_banker\", this.desk_btns);\r\n        var btn_bu_qiang = cc.find(\"btn_not_call\", this.desk_btns);\r\n\r\n        //显示倒计时\r\n        this.showCountdown(false);\r\n        this.showCountdown(true, 20, data.caller);\r\n\r\n        if (data.firstCall) {\r\n            if (data.caller == GD.chairID) { //自己\r\n                btn_qiang.active = true;\r\n                btn_bu_qiang.active = true;\r\n            } else {\r\n                cc.find(\"wait_callbanker\", this.desk_hint_txt).active = true;\r\n            }\r\n        } else {\r\n            var seatID = this.getRelativeSeatID(data.lastCaller, GD.chairID);\r\n            var seat = this.seatGroup.children[seatID];\r\n            cc.find(\"nocall_font\", seat).active = true;\r\n        }\r\n\r\n        //上一个玩家不叫，做出处理\r\n        if (data.lastCaller != null) {\r\n\r\n            console.log(\"上一个玩家不叫，做出处理\");\r\n            this.AudioControl.playBujiao();\r\n\r\n            if (data.caller == GD.chairID) {\r\n                cc.find(\"wait_callbanker\", this.desk_hint_txt).active = false;\r\n                btn_qiang.active = true;\r\n                btn_bu_qiang.active = true;\r\n            } else {\r\n                btn_qiang.active = false;\r\n                btn_bu_qiang.active = false;\r\n                cc.find(\"wait_callbanker\", this.desk_hint_txt).active = true;\r\n            }\r\n        }\r\n\r\n\r\n    },\r\n\r\n    //by_009:游戏开始 下注\r\n    onSubGameStart: function(data) {\r\n        console.log(\"游戏开始 下注\", data);\r\n\r\n        //隐藏不出\r\n        for (var i = 0; i < this.seatGroup.childrenCount; i++) {\r\n            var nocall_font = cc.find(\"nocall_font\", this.seatGroup.children[i]);\r\n            if (nocall_font.active == true) {\r\n                nocall_font.active = false;\r\n            }\r\n        }\r\n        //显示庄家\r\n        var seatID = this.getRelativeSeatID(data.banker, GD.chairID);\r\n        var seat = this.seatGroup.children[seatID];\r\n        cc.find(\"banker_flag\", seat).active = true;\r\n        this.AudioControl.playBanker();\r\n        this.betNode.active = true;\r\n        cc.find(\"btn_call_banker\", this.desk_btns).active = false;\r\n        cc.find(\"btn_not_call\", this.desk_btns).active = false;\r\n        cc.find(\"wait_callbanker\", this.desk_hint_txt).active = false;\r\n\r\n        if (data.banker == GD.chairID) { //自己\r\n            cc.find(\"wait_bet\", this.desk_hint_txt).active = true;\r\n        } else {\r\n            var betBtnGroup = cc.find(\"betBtnGroup\", this.betNode);\r\n            betBtnGroup.active = true;\r\n            var maxChip = data.maxChip[GD.chairID];\r\n            for (var i = 0; i < betBtnGroup.childrenCount; i++) {\r\n                cc.find(\"label\", betBtnGroup.children[i]).getComponent(cc.Label).string = maxChip;\r\n                maxChip = Math.floor(maxChip / 2);\r\n            }\r\n            cc.find(\"bet_info/label\", this.betNode).getComponent(cc.Label).string = \"\";\r\n            console.log(\"最大可下注：\", data.maxChip[GD.chairID]);\r\n        }\r\n\r\n        //不是庄家的都显示倒计时\r\n        this.showCountdown(false);\r\n        for (var i = 0; i < this.seatGroup.childrenCount; i++) {\r\n            var seatID = this.getRelativeSeatID(i, GD.chairID);\r\n            var banker_flag = cc.find(\"banker_flag\", this.seatGroup.children[seatID]);\r\n            if (banker_flag.active == false) {\r\n                this.showCountdown(true, 20, i);\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n\r\n    //by_009:点击下注分按钮\r\n    clickBetScore(event) {\r\n        var score = event.currentTarget.children[0].getComponent(cc.Label).string;\r\n        GD.clientKernel.sendSocketData(define.gameCMD.MDM_GF_GAME, subGameMSG.C_ADD_SCORE, { chipScore: score });\r\n    },\r\n\r\n    //by_009:加注\r\n    onSubAddScore: function(data) {\r\n        console.log(\"加注\", data);\r\n\r\n        cc.find(\"betBtnGroup\", this.betNode).active = false;\r\n        cc.find(\"bet_info/label\", this.betNode).getComponent(cc.Label).string = data.chipScore;\r\n        cc.find(\"wait_bet\", this.desk_hint_txt).active = false;\r\n\r\n        var seatID = this.getRelativeSeatID(data.chairID, GD.chairID);\r\n        var seat = this.seatGroup.children[seatID];\r\n        this.jetton = this.randomCreateJetton(data.chipScore);\r\n        this.AudioControl.playJetton();\r\n        this.jetton.parent = cc.find(\"jettonNode\", seat);\r\n        this.jetton.setScale(0.1, 0.1);\r\n        var newVec2 = this.seatGroup.parent.convertToWorldSpaceAR(this.seatGroup.position);\r\n\r\n        var Vec2 = cc.find(\"jettonNode\", seat).convertToNodeSpaceAR(newVec2);\r\n        var moveTo = cc.moveTo(0.3, Vec2);\r\n        var scaleTo = cc.scaleTo(0.3, 1, 1);\r\n        this.jetton.runAction(cc.spawn(moveTo, scaleTo));\r\n    },\r\n\r\n    //by_009:发牌\r\n    onSubSendCard: function(data) {\r\n        console.log(\"发牌\", data);\r\n\r\n        cc.find(\"wait_bet\", this.desk_hint_txt).active = false;\r\n\r\n        //显示倒计时\r\n        this.showCountdown(false);\r\n        for (var i = 0; i < 2; i++) {\r\n            this.showCountdown(true, 20, i);\r\n        }\r\n\r\n        //播放发牌动画\r\n        var a = 0;\r\n        this.schedule(function() {\r\n            var seatID = this.getRelativeSeatID(a, GD.chairID);\r\n            var seat = this.seatGroup.children[seatID];\r\n            this.cardAction(seat);\r\n            a++;\r\n        }, 0.2, 2 - 1, 0);\r\n\r\n        this.cardData = data.cardData; //所有玩家开牌时要用到\r\n        setTimeout(function() {\r\n            //手牌赋值\r\n            for (var i = 0; i < 2; i++) {\r\n                var seatID = this.getRelativeSeatID(i, GD.chairID);\r\n                var seat = this.seatGroup.children[seatID];\r\n                var cardGroup = cc.find(\"cardGroup\", seat);\r\n                for (var j = 0; j < data.cardData[i].length; j++) {\r\n                    var card_front = cc.find(\"card_front\", cardGroup.children[j])\r\n                    this.setCardValue(card_front, data.cardData[i][j]);\r\n                }\r\n                //写入牌型\r\n                var result = GameLogic.getCardType(data.cardData[i]);\r\n                var type = \"niu_\" + result.type;\r\n                var niu_shu = cc.find(\"niu_shu\", seat);\r\n                niu_shu.getComponent(cc.Sprite).spriteFrame = this.niu_shu_Atlas._spriteFrames[type];\r\n            }\r\n        }.bind(this), 1300);\r\n\r\n        setTimeout(function() {\r\n            var cardGroup = cc.find(\"cardGroup\", this.seatGroup.children[0]);\r\n            for (var index = 0; index < cardGroup.childrenCount; index++) {\r\n                cardGroup.children[index].getComponent(cc.Animation).play();\r\n            }\r\n\r\n            cc.find(\"btn_showdown\", this.desk_btns).active = true;\r\n        }.bind(this), 1400);\r\n\r\n    },\r\n\r\n\r\n    //by_009:单个玩家开牌\r\n    onSubSingleOpenCard: function(data) {\r\n        console.log(\"单个玩家开牌\", data);\r\n        if (data.chairID == GD.chairID) {\r\n            cc.find(\"btn_showdown\", this.desk_btns).active = false;\r\n        } else {\r\n            // this.separate_card_anim(data.chairID);\r\n        }\r\n    },\r\n\r\n    //by_009:所有玩家开牌\r\n    onSubAllOpenCard: function(data) {\r\n        console.log(\"所有玩家开牌\", data);\r\n\r\n        this.showCountdown(false);\r\n\r\n        cc.find(\"btn_showdown\", this.desk_btns).active = false;\r\n\r\n        for (var i = 0; i < 2; i++) {\r\n            var seatID = this.getRelativeSeatID(i, GD.chairID);\r\n            var seat = this.seatGroup.children[seatID];\r\n\r\n            var cardGroup = cc.find(\"cardGroup\", seat);\r\n            var result = GameLogic.getCardType(this.cardData[i]);\r\n            for (var index = 0; index < result.pop.length; index++) {\r\n                if (result.pop[index] == true) { //弹起的牌\r\n                    cardGroup.children[index].y += 20;\r\n                    cardGroup.children[index].children[0].color = new cc.Color(120, 120, 120, 255);\r\n                }\r\n            }\r\n            //牌翻转动画\r\n            for (var j = 0; j < cardGroup.childrenCount; j++) {\r\n                cardGroup.children[j].getComponent(cc.Animation).play();\r\n            }\r\n            var niu_shu = cc.find(\"niu_shu\", seat);\r\n            niu_shu.active = true;\r\n        }\r\n\r\n    },\r\n\r\n    //by_009:玩家逃跑\r\n    onSubPlayerExit: function(data) {\r\n        console.log(\"玩家逃跑\", data);\r\n    },\r\n\r\n    //by_009:游戏结束\r\n    onSubGameEnd: function(data) {\r\n        console.log(\"游戏结束\", data);\r\n\r\n        //播放win动画\r\n        var winner = null;\r\n        if (data.score[0] > data.score[1]) {\r\n            winner = 0;\r\n        } else {\r\n            winner = 1;\r\n        }\r\n        var seatID = this.getRelativeSeatID(winner, GD.chairID);\r\n        var win = cc.find(\"win\", this.animNode);\r\n\r\n        var pokerNode = cc.find(\"pokerNode\", this.seatGroup.children[seatID]);\r\n        var newVec2 = pokerNode.parent.convertToWorldSpaceAR(pokerNode.position);\r\n        var Vec2 = win.parent.convertToNodeSpaceAR(newVec2);\r\n        win.position = Vec2;\r\n        win.active = true;\r\n        win.getComponent(cc.Animation).play();\r\n\r\n        setTimeout(function() {\r\n            //播放shu _ ying动画\r\n            var anim = null;\r\n            var effects = null;\r\n            if (winner == GD.chairID) { //赢\r\n                this.AudioControl.playWinOrLose(0);\r\n\r\n                anim = cc.find(\"jieSuan_ying\", this.animNode);\r\n                setTimeout(function() {\r\n                    cc.find(\"jieSuan_ying/light\", this.animNode).getComponent(cc.Animation).play();\r\n                }.bind(this), 200);\r\n            } else { //输\r\n                this.AudioControl.playWinOrLose(1);\r\n\r\n                anim = cc.find(\"jieSuan_shu\", this.animNode);\r\n                setTimeout(function() {\r\n                    cc.find(\"jieSuan_shu/dust\", this.animNode).getComponent(sp.Skeleton).setAnimation(0, 'animation', false);\r\n                }.bind(this), 200);\r\n            }\r\n            anim.active = true;\r\n            anim.getComponent(cc.Animation).play();\r\n\r\n            //写入值\r\n            var content = cc.find(\"bg/content\", anim);\r\n            for (var i = 1; i < content.childrenCount; i++) { //删除原先的\r\n                content.children[i].destroy();\r\n            }\r\n            for (var i = 0; i < 2; i++) { //新增现有的\r\n                var player = cc.instantiate(content.children[0]);\r\n                player.parent = content;\r\n                player.active = true;\r\n                cc.find(\"nickname\", player).getComponent(cc.Label).string = data.nickname[i];\r\n                var score = data.score[i];\r\n                if (score >= 0) {\r\n                    score = \"+\" + score;\r\n                    cc.find(\"score\", player).color = new cc.Color(255, 0, 0, 255)\r\n                } else {\r\n                    score = \"-\" + score;\r\n                    cc.find(\"score\", player).color = new cc.Color(0, 255, 0, 255)\r\n                }\r\n                cc.find(\"score\", player).getComponent(cc.Label).string = data.score[i];\r\n                var type = data.type[i];\r\n                type = type == \"0\" ? \"无牛\" : type == \"1\" ? \"牛一\" : type == \"2\" ? \"牛二\" : type == \"3\" ? \"牛三\" : type == \"4\" ? \"牛四\" : type == \"5\" ? \"牛五\" :\r\n                    type == \"6\" ? \"牛六\" : type == \"7\" ? \"牛七\" : type == \"8\" ? \"牛八\" : type == \"9\" ? \"牛九\" : type == \"10\" ? \"牛牛\" : \"\"\r\n                cc.find(\"type\", player).getComponent(cc.Label).string = type;\r\n            }\r\n            //更新分数\r\n            for (var i = 0; i < 2; i++) {\r\n                var seatID = this.getRelativeSeatID(i, GD.chairID);\r\n                var seatScore = cc.find(\"userFrame/score\", this.seatGroup.children[seatID]);\r\n                var score = seatScore.getComponent(cc.Label).string;\r\n                score = parseInt(score.substr(0, score.length - 1)) * 10000;\r\n                score += data.score[i];\r\n                seatScore.getComponent(cc.Label).string = score / 10000 + \"万\";\r\n            }\r\n\r\n            //更新战绩统计\r\n            var all = cc.find(\"all/value\", this.record);\r\n            var allScore = all.getComponent(cc.Label).string;\r\n            var result = parseInt(allScore) + data.score[GD.chairID];\r\n            all.getComponent(cc.Label).string = result >= 0 ? \"+\" + result : result;\r\n            var last = cc.find(\"last/value\", this.record);\r\n            var allScore = all.getComponent(cc.Label).string;\r\n            var result = data.score[GD.chairID];\r\n            last.getComponent(cc.Label).string = result >= 0 ? \"+\" + result : result;\r\n        }.bind(this), 1000);\r\n\r\n    },\r\n\r\n    //by_009:解散\r\n    onSubDismiss: function(data) {\r\n        console.log(\"解散\", data);\r\n    },\r\n\r\n\r\n    //by_009:给牌节点赋入牌值\r\n    setCardValue(cardNode, cardValue) {\r\n        var color = GameLogic.getCardColor(cardValue);\r\n        var value = GameLogic.getCardValue(cardValue);\r\n        cardNode.getComponent(cc.Sprite).spriteFrame = this.pokerAtlas._spriteFrames[\"card_\" + color + \"_\" + value];\r\n    },\r\n\r\n    //by_009:随机创建筹码\r\n    randomCreateJetton(numValue) {\r\n        // this.jettonAtlas\r\n        var jettonNode = new cc.Node(\"jetton\");\r\n        // jettonNode.parent=cc.find(\"Canvas\");\r\n        console.log(\"numValue\", numValue);\r\n        var jetton = null;\r\n        do {\r\n            if (numValue >= 10000000) {\r\n                numValue -= 10000000;\r\n                jetton = new cc.Node(\"jetton\");\r\n                jetton.addComponent(cc.Sprite).spriteFrame = this.jettonAtlas._spriteFrames[\"game-jetton-1000w\"];\r\n                jetton.parent = jettonNode;\r\n                jetton.x += parseInt(Math.random() * 150);\r\n                jetton.y -= parseInt(Math.random() * 100);\r\n                continue;\r\n            } else if (numValue >= 5000000) {\r\n                numValue -= 5000000;\r\n                jetton = new cc.Node(\"jetton\");\r\n                jetton.addComponent(cc.Sprite).spriteFrame = this.jettonAtlas._spriteFrames[\"game-jetton-500w\"];\r\n                jetton.parent = jettonNode;\r\n                jetton.x += parseInt(Math.random() * 150);\r\n                jetton.y -= parseInt(Math.random() * 100);\r\n                continue;\r\n            } else if (numValue >= 1000000) {\r\n                numValue -= 1000000;\r\n                jetton = new cc.Node(\"jetton\");\r\n                jetton.addComponent(cc.Sprite).spriteFrame = this.jettonAtlas._spriteFrames[\"game-jetton-100w\"];\r\n                jetton.parent = jettonNode;\r\n                jetton.x -= parseInt(Math.random() * 150);\r\n                jetton.y -= parseInt(Math.random() * 100);\r\n                continue;\r\n            } else if (numValue >= 100000) {\r\n                numValue -= 100000;\r\n                jetton = new cc.Node(\"jetton\");\r\n                jetton.addComponent(cc.Sprite).spriteFrame = this.jettonAtlas._spriteFrames[\"game-jetton-10w\"];\r\n                jetton.parent = jettonNode;\r\n                jetton.x += parseInt(Math.random() * 150);\r\n                jetton.y += parseInt(Math.random() * 100);\r\n                continue;\r\n            } else if (numValue >= 10000) {\r\n                numValue -= 10000;\r\n                jetton = new cc.Node(\"jetton\");\r\n                jetton.addComponent(cc.Sprite).spriteFrame = this.jettonAtlas._spriteFrames[\"game-jetton-1w\"];\r\n                jetton.parent = jettonNode;\r\n                jetton.x -= parseInt(Math.random() * 150);\r\n                jetton.y += parseInt(Math.random() * 100);\r\n                continue;\r\n            } else if (numValue >= 1000) {\r\n                numValue -= 1000;\r\n                jetton = new cc.Node(\"jetton\");\r\n                jetton.addComponent(cc.Sprite).spriteFrame = this.jettonAtlas._spriteFrames[\"game-jetton-1000\"];\r\n                jetton.parent = jettonNode;\r\n                jetton.x -= parseInt(Math.random() * 100);\r\n                jetton.y += parseInt(Math.random() * 100);\r\n                continue;\r\n            } else if (numValue >= 100) {\r\n                numValue -= 100;\r\n                jetton = new cc.Node(\"jetton\");\r\n                jetton.addComponent(cc.Sprite).spriteFrame = this.jettonAtlas._spriteFrames[\"game-jetton-100\"];\r\n                jetton.parent = jettonNode;\r\n                jetton.x += parseInt(Math.random() * 100);\r\n                jetton.y += parseInt(Math.random() * 100);\r\n                continue;\r\n            } else if (numValue >= 10) {\r\n                numValue -= 10;\r\n                jetton = new cc.Node(\"jetton\");\r\n                jetton.addComponent(cc.Sprite).spriteFrame = this.jettonAtlas._spriteFrames[\"game-jetton-10\"];\r\n                jetton.parent = jettonNode;\r\n                jetton.x += parseInt(Math.random() * 100);\r\n                jetton.y += parseInt(Math.random() * 100);\r\n                continue;\r\n            } else if (numValue >= 1) {\r\n                numValue -= 1;\r\n                jetton = new cc.Node(\"jetton\");\r\n                jetton.addComponent(cc.Sprite).spriteFrame = this.jettonAtlas._spriteFrames[\"game-jetton-1\"];\r\n                jetton.parent = jettonNode;\r\n                jetton.x -= parseInt(Math.random() * 100);\r\n                jetton.y += parseInt(Math.random() * 100);\r\n                continue;\r\n            }\r\n        } while (numValue > 0)\r\n        //var jettonNode = [10000,1000]\r\n        var count = jettonNode.childrenCount - 1\r\n        for (var i = count; i >= 0; i--) {\r\n            jettonNode.children[i].setSiblingIndex(count);\r\n        }\r\n        return jettonNode;\r\n    },\r\n\r\n\r\n    //by_009:展示倒计时\r\n    showCountdown(isShow = true, time = 20, chairID = GD.chairID) {\r\n        if (isShow) {\r\n            var seatID = this.getRelativeSeatID(chairID, GD.chairID);\r\n            // var seatID=chairID;\r\n            this.clock.getComponent(\"clock\").time = time;\r\n            this.clock.active = true;\r\n            var timerFrame = cc.find(\"userFrame/userHeadBG/timerFrame\", this.seatGroup.children[seatID]);\r\n            timerFrame.getComponent(\"TimerFrame\").time = time;\r\n            timerFrame.active = true;\r\n        } else {\r\n            this.clock.active = false;\r\n            // var seatID=this.getRelativeSeatID(chairID,GD.chairID);\r\n            // cc.find(\"userFrame/userHeadBG/timerFrame\",this.seatGroup.children[seatID]).active = false;\r\n            for (var i = 0; i < 2; i++) {\r\n                cc.find(\"userFrame/userHeadBG/timerFrame\", this.seatGroup.children[i]).active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    //by_009:发牌动画\r\n    cardAction(seat) {\r\n        var index = 0;\r\n        this.schedule(function() {\r\n            var newVec2 = cc.find(\"pokerNode\", seat).convertToWorldSpaceAR(cc.find(\"pokerNode\", seat).children[index].position);\r\n            var Vec2 = cc.find(\"Canvas\").convertToNodeSpaceAR(newVec2);\r\n            var moveTo = cc.moveTo(0.5, Vec2);\r\n\r\n            this.AudioControl.playSendCard();\r\n\r\n            var card_back = cc.instantiate(this.card_back);\r\n            // goldArray.push(gold);\r\n            card_back.parent = cc.find(\"Canvas\");\r\n            card_back.active = true;\r\n            var callFunc = cc.callFunc(function() {\r\n                card_back.parent = cc.find(\"cardGroup\", seat);\r\n            });\r\n            card_back.runAction(cc.sequence(moveTo, callFunc));\r\n            index++;\r\n        }, 0.05, 4, 0);\r\n    },\r\n\r\n\r\n    //by_009:【该座位相对与自己座位的值】\r\n    //算出该座位相对与自己座位的值——传入需查座位id，自己的座位id，座位总数\r\n    getRelativeSeatID(chairID, myChairID, chairCount = 2) {\r\n        return (chairID + chairCount - myChairID) % chairCount;\r\n        // return (chairID + parseInt(chairCount * 3 / 2) - myChairID) % chairCount;\r\n    },\r\n\r\n    //by_009:【显示下拉菜单】\r\n    showDownList() {\r\n        var newNode = cc.instantiate(this.downList)\r\n        cc.find(\"Canvas\").addChild(newNode);\r\n    },\r\n\r\n\r\n    // update (dt) {},\r\n});"]}